# Redis Database Architecture for GitHub Copilot Agent - ç¸½è¦½

> **ğŸ“Œ æ–‡æª”å…¥å£**ï¼šRedis ä½œç‚º GitHub Copilot Agent çš„å¤–æ›å¤§è…¦ï¼ˆExternal Brainï¼‰

**ç‰ˆæœ¬**ï¼šv1.0.0  
**æœ€å¾Œæ›´æ–°**ï¼š2025-11-21  
**ç‹€æ…‹**ï¼šâœ… å¯ç«‹å³ä½¿ç”¨

---

## ğŸ¯ ä»€éº¼æ˜¯ Redis å¤–æ›å¤§è…¦ï¼Ÿ

**Redis å¤–æ›å¤§è…¦ = Agent çš„å‹•æ…‹å­¸ç¿’è³‡æ–™åº«**

- ğŸ“ **è¨˜éŒ„**ï¼šç”¨æˆ¶åå¥½ã€é–‹ç™¼ç¿’æ…£ã€é¢¨æ ¼é¸æ“‡
- ğŸ§  **å­¸ç¿’**ï¼šå°ˆæ¡ˆç‰¹å®šçŸ¥è­˜ã€æ¶æ§‹æ±ºç­–ã€å‘½åè¦ç¯„
- ğŸ“Š **è¿½è¹¤**ï¼šæ­·å²æ±ºç­–ã€éŒ¯èª¤æ¨¡å¼ã€çµ±è¨ˆæ•¸æ“š
- âš¡ **å¿«å–**ï¼šå¤©æ°£æ•¸æ“šã€API å›æ‡‰ã€æŸ¥è©¢çµæœ

### èˆ‡ memory.jsonl çš„é—œä¿‚

| ç‰¹æ€§ | memory.jsonl | Redis å¤–æ›å¤§è…¦ |
|------|--------------|----------------|
| **æ€§è³ª** | é•·æœŸçŸ¥è­˜åœ–è­œ | å‹•æ…‹å­¸ç¿’è³‡æ–™åº« |
| **å…§å®¹** | ç¶“éé©—è­‰çš„æ¶æ§‹ã€æ¨™æº–ã€æ¨¡å¼ | ç”¨æˆ¶åå¥½ã€æ­·å²æ±ºç­–ã€çµ±è¨ˆ |
| **æ›´æ–°é »ç‡** | è¼ƒå°‘ï¼ˆæ‰‹å‹•ç¶­è­·ï¼‰ | é »ç¹ï¼ˆè‡ªå‹•å­¸ç¿’ï¼‰ |
| **è³‡æ–™é‡** | 149 å¯¦é«” + 170 é—œä¿‚ | å‹•æ…‹å¢é•· |
| **ç”¨é€”** | æä¾›ç©©å®šçš„åŸºç¤çŸ¥è­˜ | é©æ‡‰ç”¨æˆ¶ç¿’æ…£èˆ‡å°ˆæ¡ˆç‰¹æ€§ |
| **é—œä¿‚** | äº’è£œè€Œéå–ä»£ | äº’è£œè€Œéå–ä»£ |

**çµè«–**ï¼šå…©è€…ç›¸è¼”ç›¸æˆï¼Œmemory.jsonl æä¾›ç©©å®šæ¡†æ¶ï¼ŒRedis æä¾›å‹•æ…‹é©æ‡‰ã€‚

---

## ğŸ“š æ–‡æª”å°èˆª

### â­ å¿«é€Ÿé–‹å§‹ï¼ˆæ¨è–¦ï¼‰

1. **å¿«é€Ÿåƒè€ƒæŒ‡å—** â­â­â­â­â­
   - æª”æ¡ˆï¼š[`docs/guides/redis-agent-quick-reference.md`](./redis-agent-quick-reference.md)
   - ç”¨é€”ï¼šå¿«é€ŸæŸ¥è©¢å¸¸ç”¨æ“ä½œã€è³‡æ–™çµæ§‹ã€æœ€ä½³å¯¦è¸
   - é©åˆï¼šéœ€è¦ç«‹å³ä½¿ç”¨ Redis çš„ Agent

2. **æ•´åˆæŒ‡å—** â­â­â­â­
   - æª”æ¡ˆï¼š[`docs/guides/redis-agent-integration-guide.md`](./redis-agent-integration-guide.md)
   - ç”¨é€”ï¼šäº†è§£å¦‚ä½•å°‡ Redis æ•´åˆè‡³ Agent é…ç½®
   - é©åˆï¼šéœ€è¦é…ç½® Agent ä½¿ç”¨ Redis

### ğŸ“– æ·±å…¥é–±è®€

3. **å®Œæ•´ Schema å®šç¾©** â­â­â­â­â­
   - æª”æ¡ˆï¼š[`docs/architecture/redis-agent-database-schema.md`](../architecture/redis-agent-database-schema.md)
   - ç”¨é€”ï¼šç†è§£å®Œæ•´çš„è³‡æ–™åº«æ¶æ§‹è¨­è¨ˆ
   - é©åˆï¼šéœ€è¦æ·±å…¥ç†è§£ Redis Schema çš„é–‹ç™¼è€…

4. **å¤–æ›å¤§è…¦æŒ‡å—** â­â­â­â­
   - æª”æ¡ˆï¼š[`.github/agents/redis-external-brain-guide.md`](../../.github/agents/redis-external-brain-guide.md)
   - ç”¨é€”ï¼šç†è§£ Redis å¤–æ›å¤§è…¦çš„æ¦‚å¿µèˆ‡æˆé•·æ¨¡å‹
   - é©åˆï¼šæƒ³äº†è§£ Agent æˆé•·æ©Ÿåˆ¶çš„é–‹ç™¼è€…

5. **Redis ä½¿ç”¨æŒ‡å—** â­â­â­
   - æª”æ¡ˆï¼š[`docs/guides/redis-usage-guide.md`](./redis-usage-guide.md)
   - ç”¨é€”ï¼šäº†è§£ Redis åœ¨å°ˆæ¡ˆä¸­çš„ä½¿ç”¨å ´æ™¯èˆ‡åæ¨¡å¼
   - é©åˆï¼šéœ€è¦äº†è§£ Redis æœ€ä½³å¯¦è¸çš„é–‹ç™¼è€…

### ğŸ”— ç›¸é—œæ–‡æª”

- [Memory Usage Guide](../../.github/agents/memory-usage-guide.md) - memory.jsonl ä½¿ç”¨æŒ‡å—
- [Agent Startup Checklist](../../.github/agents/agent-startup-checklist.md) - Agent å•Ÿå‹•æª¢æŸ¥æ¸…å–®
- [Main Agent Configuration](../../.github/agents/ng-alain-github-agent.md) - ä¸» Agent é…ç½®

---

## ğŸ—‚ï¸ Redis Schema æ¦‚è¦½

### åˆ†å±¤è¨­è¨ˆï¼ˆ5 å±¤ï¼‰

\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 1: å°ˆæ¡ˆå…ƒè³‡æ–™ï¼ˆProject Metadataï¼‰               â”‚
â”‚ TTL: 30å¤© | éµ: ngalain:project:metadata             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 2: ä½¿ç”¨è€…åå¥½ï¼ˆUser Preferencesï¼‰               â”‚
â”‚ TTL: 30å¤© | éµ: ngalain:user:preferences:{category}  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 3: å°ˆæ¡ˆçŸ¥è­˜ï¼ˆProject Knowledgeï¼‰                â”‚
â”‚ TTL: 7å¤© | éµ: ngalain:knowledge:{domain}            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 4: æ­·å²è¨˜éŒ„ï¼ˆHistorical Recordsï¼‰               â”‚
â”‚ TTL: 3å¤© | éµ: ngalain:history:{type}:{timestamp}    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 5: æœƒè©±èˆ‡å¿«å–ï¼ˆSession & Cacheï¼‰                â”‚
â”‚ TTL: 1-4å°æ™‚ | éµ: ngalain:session/cache:*           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### æ ¸å¿ƒè³‡æ–™çµæ§‹ï¼ˆ9 ç¨®ï¼‰

| # | é¡å‹ | éµåå‰ç¶´ | ç”¨é€” | TTL |
|---|------|---------|------|-----|
| 1 | å°ˆæ¡ˆå…ƒè³‡æ–™ | `ngalain:project:*` | å°ˆæ¡ˆåŸºæœ¬è³‡è¨Š | 30å¤© |
| 2 | ç”¨æˆ¶åå¥½ | `ngalain:user:preferences:*` | ä»£ç¢¼é¢¨æ ¼ã€UIã€å·¥ä½œæµç¨‹ | 30å¤© |
| 3 | å°ˆæ¡ˆçŸ¥è­˜ | `ngalain:knowledge:*` | æ¶æ§‹ã€APIã€å‘½åè¦ç¯„ | 7å¤© |
| 4 | æ­·å²æ±ºç­– | `ngalain:history:decisions:*` | æ±ºç­–è¨˜éŒ„èˆ‡ç¶“é©— | 3å¤© |
| 5 | æ¨¡å¼æ…£ä¾‹ | `ngalain:patterns:*` | Repositoryã€Serviceã€Component | 7å¤© |
| 6 | éŒ¯èª¤ä¿®æ­£ | `ngalain:errors:*` | å¸¸è¦‹éŒ¯èª¤èˆ‡ä¿®æ­£ç­–ç•¥ | 7å¤© |
| 7 | çµ±è¨ˆæ•¸æ“š | `ngalain:stats:*` | ä»»å‹™ã€å·¥å…·ä½¿ç”¨ã€ä»£ç¢¼è³ªé‡ | æ°¸ä¹… |
| 8 | æœƒè©±ç‹€æ…‹ | `ngalain:session:*` | ç•¶å‰ä»»å‹™èˆ‡ä¸Šä¸‹æ–‡ | 4å°æ™‚ |
| 9 | è‡¨æ™‚å¿«å– | `ngalain:cache:*` | å¤©æ°£ã€APIã€æŸ¥è©¢çµæœ | 1-6å°æ™‚ |

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. æŸ¥çœ‹å°ˆæ¡ˆå…ƒè³‡æ–™

\`\`\`bash
# ä½¿ç”¨ Redis CLI
redis-cli GET "ngalain:project:metadata"

# ä½¿ç”¨ Redis MCP (åœ¨ Agent ä¸­)
const metadata = await redis.get('ngalain:project:metadata');
const parsed = JSON.parse(metadata);
\`\`\`

### 2. è¼‰å…¥ç”¨æˆ¶åå¥½

\`\`\`typescript
// åœ¨ Agent å•Ÿå‹•æ™‚
const preferences = await redis.mget([
  'ngalain:user:preferences:code_style',
  'ngalain:user:preferences:ui',
  'ngalain:user:preferences:workflow'
]);

const parsed = preferences.map(p => p ? JSON.parse(p) : null);
\`\`\`

### 3. å„²å­˜æ­·å²æ±ºç­–

\`\`\`typescript
// ä»»å‹™å®Œæˆå¾Œ
const timestamp = new Date().toISOString().replace(/[:.]/g, '_');
await redis.set(
  `ngalain:history:decisions:${timestamp}`,
  JSON.stringify({
    task: 'å¯¦ä½œç™»å…¥åŠŸèƒ½',
    decision: 'ä½¿ç”¨ Supabase Auth',
    reasoning: 'ç¬¦åˆå°ˆæ¡ˆæ¨™æº–',
    outcome: 'successful',
    lessons_learned: 'session åˆ·æ–°éœ€é¡å¤–è™•ç†',
    timestamp: new Date().toISOString()
  }),
  { EX: 259200 } // 3 å¤©
);
\`\`\`

---

## ğŸ“Š TTL ç­–ç•¥é€ŸæŸ¥

| ç´šåˆ¥ | æ™‚é•· | ç§’æ•¸ | ç¯„ä¾‹ |
|------|------|------|------|
| **æ°¸ä¹…** | - | - | çµ±è¨ˆæ•¸æ“š |
| **é•·æœŸ** | 30å¤© | `2592000` | å°ˆæ¡ˆå…ƒè³‡æ–™ã€ç”¨æˆ¶åå¥½ |
| **ä¸­æœŸ** | 7å¤© | `604800` | å°ˆæ¡ˆçŸ¥è­˜ã€æ¨¡å¼ |
| **çŸ­æœŸ** | 3å¤© | `259200` | æ­·å²æ±ºç­– |
| **æœƒè©±** | 4å°æ™‚ | `14400` | æœƒè©±ç‹€æ…‹ |
| **å¿«å–ï¼ˆé•·ï¼‰** | 6å°æ™‚ | `21600` | å¤©æ°£æ•¸æ“š |
| **å¿«å–ï¼ˆçŸ­ï¼‰** | 1å°æ™‚ | `3600` | API å›æ‡‰ |

---

## âœ… æœ€ä½³å¯¦è¸æª¢æŸ¥æ¸…å–®

### å¯«å…¥æ™‚

- [ ] âœ… ç¸½æ˜¯è¨­å®š TTLï¼ˆé¿å…å…§å­˜æ³„æ¼ï¼‰
- [ ] âœ… ä½¿ç”¨ JSON åºåˆ—åŒ–è¤‡é›œæ•¸æ“š
- [ ] âœ… æ›´æ–° `updated_at` æ™‚é–“æˆ³
- [ ] âœ… å¢åŠ  `usage_count` è¨ˆæ•¸

### æŸ¥è©¢æ™‚

- [ ] âœ… ä½¿ç”¨ `SCAN` è€Œé `KEYS`ï¼ˆé¿å…é˜»å¡ï¼‰
- [ ] âœ… ä½¿ç”¨ `MGET` æ‰¹æ¬¡æŸ¥è©¢ï¼ˆæ¸›å°‘ç¶²çµ¡å¾€è¿”ï¼‰
- [ ] âœ… å¯¦ä½œéŒ¯èª¤è™•ç†ï¼ˆtry-catchï¼‰
- [ ] âœ… å¯¦ä½œé™ç´šç­–ç•¥ï¼ˆfallback to memory.jsonlï¼‰

### é¿å…

- [ ] âŒ ä¸è¦ç¼ºå°‘ TTL
- [ ] âŒ ä¸è¦ä½¿ç”¨ `KEYS` å‘½ä»¤
- [ ] âŒ ä¸è¦å­˜å„²éå¤§çš„å€¼ï¼ˆ>1MBï¼‰
- [ ] âŒ ä¸è¦ç¼ºå°‘éŒ¯èª¤è™•ç†

---

## ğŸ”„ Agent å·¥ä½œæµç¨‹

### Stage 1: å•Ÿå‹•æ™‚
\`\`\`typescript
// è¼‰å…¥åŸºç¤è¨­å®š
await loadProjectMetadata();
await loadUserPreferences();
await loadProjectKnowledge();
\`\`\`

### Stage 2: ä»»å‹™åŸ·è¡Œå‰
\`\`\`typescript
// è¼‰å…¥ä»»å‹™ç›¸é—œçŸ¥è­˜
await loadRelevantPatterns(task.type);
await loadCommonErrors();
await loadHistoricalDecisions(task.type);
\`\`\`

### Stage 3: ä»»å‹™å®Œæˆå¾Œ
\`\`\`typescript
// å„²å­˜å­¸ç¿’çµæœ
await saveDecision(task, result);
await updateStatistics(task);
await saveNewPattern(result.pattern);
\`\`\`

### Stage 4: éŒ¯èª¤è™•ç†
\`\`\`typescript
// è¨˜éŒ„éŒ¯èª¤ä¸¦å­¸ç¿’
await recordError(error);
await updateFixStrategy(error);
\`\`\`

---

## ğŸ“ˆ é æœŸæˆé•·è·¯å¾‘

### ç¬¬ 1-2 é€±ï¼ˆåˆå§‹å­¸ç¿’ï¼‰
- âœ… Agent é–‹å§‹è¨˜éŒ„ç”¨æˆ¶åå¥½
- âœ… ç´¯ç©åŸºç¤å°ˆæ¡ˆçŸ¥è­˜
- âœ… å­¸ç¿’å¸¸è¦‹æ¨¡å¼å’ŒéŒ¯èª¤
- **æ•ˆæœ**ï¼šæ¸›å°‘é‡è¤‡å•é¡Œï¼Œæä¾›æ›´ä¸€è‡´çš„å»ºè­°

### ç¬¬ 3-4 é€±ï¼ˆçŸ¥è­˜æ•´åˆï¼‰
- âœ… Agent é–‹å§‹é€£æ¥ä¸åŒçŸ¥è­˜é»
- âœ… èƒ½å¤ é æ¸¬ç”¨æˆ¶åå¥½
- âœ… ä¸»å‹•é¿å…å·²çŸ¥éŒ¯èª¤
- **æ•ˆæœ**ï¼šæä¾›æ›´ç²¾æº–çš„è§£æ±ºæ–¹æ¡ˆï¼Œæ¸›å°‘ä¾†å›ä¿®æ”¹

### ç¬¬ 2-3 å€‹æœˆï¼ˆæ™ºèƒ½æ¨è–¦ï¼‰
- âœ… Agent èƒ½å¤ åŸºæ–¼æ­·å²åšå‡ºé æ¸¬
- âœ… æä¾›å€‹æ€§åŒ–çš„æœ€ä½³å¯¦è¸
- âœ… è‡ªå‹•å„ªåŒ–æ±ºç­–æµç¨‹
- **æ•ˆæœ**ï¼šåƒè³‡æ·±å·¥ç¨‹å¸«ä¸€æ¨£æ€è€ƒï¼Œæä¾›æ·±åº¦æ´å¯Ÿ

### ç¬¬ 4+ å€‹æœˆï¼ˆå°ˆå®¶ç´šåˆ¥ï¼‰
- âœ… Agent å®Œå…¨ç†Ÿæ‚‰å°ˆæ¡ˆçš„æ¯å€‹è§’è½
- âœ… èƒ½å¤ é è¦‹æ½›åœ¨å•é¡Œ
- âœ… æä¾›å‰µæ–°çš„è§£æ±ºæ–¹æ¡ˆ
- **æ•ˆæœ**ï¼šæˆç‚ºå°ˆæ¡ˆçš„ã€Œè¨˜æ†¶å°ˆå®¶ã€ï¼Œåœ˜éšŠä¸å¯æˆ–ç¼ºçš„ä¸€å“¡

---

## ğŸ› ï¸ å¯¦ç”¨å·¥å…·

### æŸ¥è©¢æ‰€æœ‰å°ˆæ¡ˆéµ

\`\`\`bash
redis-cli --scan --pattern "ngalain:*"
\`\`\`

### æŸ¥çœ‹éµå€¼å…§å®¹

\`\`\`bash
redis-cli GET "ngalain:project:metadata" | jq .
\`\`\`

### æ‰¹æ¬¡æŸ¥è©¢

\`\`\`bash
redis-cli MGET \
  "ngalain:user:preferences:code_style" \
  "ngalain:user:preferences:ui"
\`\`\`

### æ¸…ç†éæœŸæ­·å²ï¼ˆä¿ç•™ 90 å¤©ï¼‰

\`\`\`bash
# è…³æœ¬ç¯„ä¾‹åœ¨ docs/guides/redis-agent-quick-reference.md
\`\`\`

---

## ğŸ“ è¨˜æ†¶åº«æ•´åˆ

### memory.jsonl å·²æ–°å¢å¯¦é«”ï¼ˆ7 å€‹ï¼‰

1. **Redis Agent Database** - Redis å¤–æ›å¤§è…¦æ¦‚è¿°
2. **Redis Key Naming Convention** - éµå‘½åè¦ç¯„
3. **Redis TTL Strategy** - TTL ç­–ç•¥
4. **Redis Data Structures for Agent** - 9 ç¨®è³‡æ–™çµæ§‹
5. **Redis Query Patterns** - æŸ¥è©¢æ¨¡å¼
6. **Redis Best Practices for Agent** - æœ€ä½³å¯¦è¸
7. **Redis Agent Workflow Integration** - å·¥ä½œæµç¨‹æ•´åˆ

### æŸ¥è©¢è¨˜æ†¶åº«ä¸­çš„ Redis çŸ¥è­˜

\`\`\`bash
# æŸ¥è©¢ Redis ç›¸é—œå¯¦é«”
cat .github/copilot/memory.jsonl | jq 'select(.name | contains("Redis"))'

# æŸ¥è©¢ Redis é—œä¿‚
cat .github/copilot/memory.jsonl | jq 'select(.type=="relation" and (.from | contains("Redis") or .to | contains("Redis")))'
\`\`\`

---

## ğŸ”— ç›¸é—œè³‡æº

### æ ¸å¿ƒæ–‡æª”
- [Redis Agent Database Schema](../architecture/redis-agent-database-schema.md) - å®Œæ•´ Schema å®šç¾© â­â­â­â­â­
- [Redis Agent Quick Reference](./redis-agent-quick-reference.md) - å¿«é€Ÿåƒè€ƒ â­â­â­â­â­
- [Redis Agent Integration Guide](./redis-agent-integration-guide.md) - æ•´åˆæŒ‡å— â­â­â­â­

### ç›¸é—œæŒ‡å—
- [Redis External Brain Guide](../../.github/agents/redis-external-brain-guide.md) - å¤–æ›å¤§è…¦æ¦‚å¿µ
- [Redis Usage Guide](./redis-usage-guide.md) - Redis ä½¿ç”¨æŒ‡å—ï¼ˆå«åæ¨¡å¼ï¼‰
- [Memory Usage Guide](../../.github/agents/memory-usage-guide.md) - memory.jsonl ä½¿ç”¨æŒ‡å—

### Agent é…ç½®
- [Agent Startup Checklist](../../.github/agents/agent-startup-checklist.md) - å•Ÿå‹•æª¢æŸ¥æ¸…å–®
- [Main Agent Configuration](../../.github/agents/ng-alain-github-agent.md) - ä¸»é…ç½®
- [MCP Tools Workflow Guide](../../.github/agents/mcp-tools-workflow-guide.md) - MCP å·¥å…·æµç¨‹

### æ¶æ§‹æ–‡æª”
- [System Architecture Mindmap](../architecture/01-system-architecture-mindmap.mermaid.md) - ç³»çµ±æ¶æ§‹
- [Complete Architecture Flowchart](../20-å®Œæ•´æ¶æ§‹æµç¨‹åœ–.mermaid.md) - Git-like åˆ†æ”¯æ¨¡å‹
- [SQL Table Structure](../22-å®Œæ•´SQLè¡¨çµæ§‹å®šç¾©.md) - 51 å¼µè¡¨çµæ§‹

---

## â“ å¸¸è¦‹å•é¡Œ

### Q: Redis å’Œ memory.jsonl æœ‰ä»€éº¼ä¸åŒï¼Ÿ

**A**: memory.jsonl æ˜¯ç©©å®šçš„é•·æœŸçŸ¥è­˜åœ–è­œï¼ˆ149 å¯¦é«” + 170 é—œä¿‚ï¼‰ï¼Œå­˜å„²ç¶“éé©—è­‰çš„æ¶æ§‹ã€æ¨™æº–ã€æ¨¡å¼ã€‚Redis æ˜¯å‹•æ…‹å­¸ç¿’è³‡æ–™åº«ï¼Œå­˜å„²ç”¨æˆ¶åå¥½ã€æ­·å²æ±ºç­–ã€çµ±è¨ˆæ•¸æ“šã€‚å…©è€…äº’è£œè€Œéå–ä»£ã€‚

### Q: æˆ‘éœ€è¦æ‰‹å‹•åˆå§‹åŒ– Redis å—ï¼Ÿ

**A**: å¦‚æœå°ˆæ¡ˆå·²é…ç½® Redis MCPï¼ŒAgent æœƒè‡ªå‹•ä½¿ç”¨ã€‚å¦‚éœ€æ‰‹å‹•åˆå§‹åŒ–ï¼Œåƒè€ƒ `redis-agent-quick-reference.md` ä¸­çš„åˆå§‹åŒ–ç¯„ä¾‹ã€‚

### Q: TTL éæœŸå¾Œæ•¸æ“šæœƒæ€æ¨£ï¼Ÿ

**A**: Redis æœƒè‡ªå‹•åˆªé™¤éæœŸæ•¸æ“šã€‚æ­·å²æ±ºç­–ä¿ç•™ 3 å¤©ï¼Œ90 å¤©å¾Œæ­¸æª”ã€‚çµ±è¨ˆæ•¸æ“šæ°¸ä¹…ä¿ç•™ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹ Agent çš„å­¸ç¿’é€²åº¦ï¼Ÿ

**A**: æŸ¥è©¢çµ±è¨ˆæ•¸æ“šï¼š
\`\`\`bash
redis-cli GET "ngalain:stats:tasks"
redis-cli GET "ngalain:stats:tool_usage"
\`\`\`

### Q: Redis ä¸å¯ç”¨æ™‚æœƒæ€æ¨£ï¼Ÿ

**A**: Agent æœƒè‡ªå‹•é™ç´šåˆ°ä½¿ç”¨ memory.jsonlï¼Œä¸å½±éŸ¿æ­£å¸¸å·¥ä½œã€‚å»ºè­°å¯¦ä½œéŒ¯èª¤è™•ç†å’Œé™ç´šç­–ç•¥ã€‚

---

## ğŸ“Š ç›£æ§èˆ‡ç¶­è­·

### å®šæœŸæª¢æŸ¥é …ç›®

- [ ] Redis é€£æ¥ç‹€æ…‹
- [ ] å…§å­˜ä½¿ç”¨æƒ…æ³
- [ ] éµæ•¸é‡èˆ‡åˆ†ä½ˆ
- [ ] TTL è¨­å®šæ­£ç¢ºæ€§
- [ ] çµ±è¨ˆæ•¸æ“šå¢é•·è¶¨å‹¢

### ç¶­è­·å»ºè­°

- **æ¯é€±**ï¼šæª¢è¦–çµ±è¨ˆæ•¸æ“šï¼Œäº†è§£ Agent ä½¿ç”¨æƒ…æ³
- **æ¯æœˆ**ï¼šæ¸…ç†éæœŸæ­·å²è¨˜éŒ„ï¼ˆ90 å¤©ä»¥ä¸Šï¼‰
- **æ¯å­£**ï¼šè©•ä¼° Schema æ˜¯å¦éœ€è¦èª¿æ•´
- **éš¨æ™‚**ï¼šç›£æ§éŒ¯èª¤ç‡èˆ‡æ€§èƒ½æŒ‡æ¨™

---

## ğŸ‰ é–‹å§‹ä½¿ç”¨

1. **é–±è®€**ï¼š[Redis Agent Quick Reference](./redis-agent-quick-reference.md) â­
2. **æ•´åˆ**ï¼šåƒè€ƒ [Redis Agent Integration Guide](./redis-agent-integration-guide.md)
3. **æŸ¥è©¢**ï¼šå¾ `ngalain:project:metadata` é–‹å§‹
4. **å­¸ç¿’**ï¼šè®“ Agent é–‹å§‹è¨˜éŒ„ç”¨æˆ¶åå¥½
5. **æˆé•·**ï¼šè§€å¯Ÿ Agent éš¨æ™‚é–“é€²æ­¥

---

**æœ€å¾Œæ›´æ–°**ï¼š2025-11-21  
**ç¶­è­·è€…**ï¼šé–‹ç™¼åœ˜éšŠ  
**ç‰ˆæœ¬**ï¼šv1.0.0  
**ç‹€æ…‹**ï¼šâœ… å¯ç«‹å³ä½¿ç”¨

**é–‹å§‹æ¢ç´¢ Redis å¤–æ›å¤§è…¦ï¼Œè®“ä½ çš„ Agent è¶Šç”¨è¶Šè°æ˜ï¼** ğŸš€
