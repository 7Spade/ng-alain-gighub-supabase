# æ–½å·¥ç¾å ´ç®¡ç†ç³»çµ± - åºåˆ—åŒ–å¯åŸ·è¡Œä»»å‹™éˆ (SETC)

> **Serialized Executable Task Chain for Construction Site Management System**

---

## æ–‡ä»¶è³‡è¨Š

| å±¬æ€§ | å€¼ |
|------|-----|
| **PRD ä¾†æº** | `prd-construction-site-management.md` v3.0 |
| **å»ºç«‹æ—¥æœŸ** | 2025-11-26 |
| **ç¸½é ä¼°é€±æ•¸** | 18-20 é€± |
| **ç¸½ä»»å‹™æ•¸** | 76 å€‹åŸ·è¡Œä»»å‹™ |
| **é–‹ç™¼éšæ®µ** | 6 å€‹ä¸»è¦éšæ®µ + 1 å€‹æº–å‚™éšæ®µ |

---

## åŸ·è¡Œæ‘˜è¦

æœ¬æ–‡ä»¶å®šç¾©äº†æ–½å·¥ç¾å ´ç®¡ç†ç³»çµ±å¾ PRD åˆ°å®Œæ•´å¯¦ä½œçš„**åºåˆ—åŒ–å¯åŸ·è¡Œä»»å‹™éˆ**ã€‚æ¯å€‹ä»»å‹™å‡å…·å‚™ï¼š

1. **å”¯ä¸€è­˜åˆ¥ç¢¼** - ç”¨æ–¼è¿½è¹¤èˆ‡ä¾è³´ç®¡ç†
2. **æ˜ç¢ºçš„å‰ç½®ä¾è³´** - ç¢ºä¿åŸ·è¡Œé †åºæ­£ç¢º
3. **å¯é©—æ”¶çš„å®Œæˆæ¨™æº–** - é‡åŒ–æˆåŠŸæŒ‡æ¨™
4. **é ä¼°å·¥æ™‚** - è³‡æºè¦åŠƒä¾æ“š

---

## éšæ®µç¸½è¦½

```mermaid
gantt
    title æ–½å·¥ç¾å ´ç®¡ç†ç³»çµ±é–‹ç™¼æ™‚ç¨‹
    dateFormat  YYYY-MM-DD
    
    section ç¬¬é›¶éšæ®µ
    å¸³æˆ¶èˆ‡è—åœ–å¼·åŒ–           :p0, 2025-01-06, 2w
    
    section ç¬¬ä¸€éšæ®µ
    ä»»å‹™ç³»çµ±ç”Ÿç”¢ç´š           :p1, after p0, 4w
    
    section ç¬¬ 1.5 éšæ®µ
    æª”æ¡ˆç³»çµ±                 :p15, after p1, 2w
    
    section ç¬¬äºŒéšæ®µ
    æ—¥èªŒç³»çµ±                 :p2, after p15, 2w
    
    section ç¬¬ä¸‰éšæ®µ
    é€²åº¦è¿½è¹¤å„€è¡¨æ¿           :p3, after p2, 3w
    
    section ç¬¬å››éšæ®µ
    å“è³ªé©—æ”¶ç³»çµ±             :p4, after p3, 2w
    
    section ç¬¬äº”éšæ®µ
    å”ä½œå ±è¡¨èˆ‡ä¸Šç·š           :p5, after p4, 4w
```

---

## ä»»å‹™éˆçµæ§‹

### éšæ®µèˆ‡ä»»å‹™æ˜ å°„

| éšæ®µ | éšæ®µåç¨± | é€±æ•¸ | ä»»å‹™æ•¸ | SETC æ–‡ä»¶ |
|------|---------|------|-------|-----------|
| P0 | å¸³æˆ¶èˆ‡è—åœ–å¼·åŒ– | 1-2 | 11 | [01-account-blueprint-enhancement.setc.md](./setc/01-account-blueprint-enhancement.setc.md) |
| P1 | ä»»å‹™ç³»çµ±ç”Ÿç”¢ç´š | 3-6 | 16 | [02-task-system-production.setc.md](./setc/02-task-system-production.setc.md) |
| P1.5 | æª”æ¡ˆç³»çµ± | 7-8 | 12 | [03-file-system.setc.md](./setc/03-file-system.setc.md) |
| P2 | æ—¥èªŒç³»çµ± | 9-10 | 11 | [04-diary-system.setc.md](./setc/04-diary-system.setc.md) |
| P3 | é€²åº¦è¿½è¹¤å„€è¡¨æ¿ | 11-13 | 10 | [05-progress-dashboard.setc.md](./setc/05-progress-dashboard.setc.md) |
| P4 | å“è³ªé©—æ”¶ç³»çµ± | 14-15 | 9 | [06-quality-inspection.setc.md](./setc/06-quality-inspection.setc.md) |
| P5 | å”ä½œå ±è¡¨èˆ‡ä¸Šç·š | 16-20 | 7 | [07-collaboration-reports-launch.setc.md](./setc/07-collaboration-reports-launch.setc.md) |

---

## ä»»å‹™ä¾è³´åœ–

```mermaid
flowchart TB
    subgraph P0["ç¬¬é›¶éšæ®µï¼šå¸³æˆ¶èˆ‡è—åœ–å¼·åŒ–"]
        P0-T01[P0-T01<br/>ACL æ¬Šé™çŸ©é™£è¨­è¨ˆ]
        P0-T02[P0-T02<br/>@delon/acl æ•´åˆ]
        P0-T03[P0-T03<br/>è·¯ç”±å®ˆè¡›å¼·åŒ–]
        P0-T04[P0-T04<br/>è—åœ–æ¨¡æ¿ CRUD]
        P0-T05[P0-T05<br/>è—åœ–è¤‡è£½åŠŸèƒ½]
        P0-T06[P0-T06<br/>å·¥ä½œå€åˆ‡æ›æ•´åˆ]
        
        P0-T01 --> P0-T02
        P0-T02 --> P0-T03
        P0-T04 --> P0-T05
        P0-T05 --> P0-T06
    end
    
    subgraph P1["ç¬¬ä¸€éšæ®µï¼šä»»å‹™ç³»çµ±ç”Ÿç”¢ç´š"]
        P1-T01[P1-T01<br/>æ‹–æ”¾ POC]
        P1-T02[P1-T02<br/>æ‹–æ”¾å¯¦ä½œ]
        P1-T03[P1-T03<br/>è¡¨æ ¼å¢å¼·]
        P1-T04[P1-T04<br/>æ‰¹é‡æ“ä½œ]
        P1-T05[P1-T05<br/>å·¥æ™‚æ¨¡å‹]
        P1-T06[P1-T06<br/>å·¥æ™‚ UI]
        P1-T07[P1-T07<br/>Gantt è¦–åœ–]
        
        P1-T01 --> P1-T02
        P1-T03 --> P1-T04
        P1-T05 --> P1-T06
        P1-T02 --> P1-T07
    end
    
    subgraph P15["ç¬¬ 1.5 éšæ®µï¼šæª”æ¡ˆç³»çµ±"]
        P15-T01[P15-T01<br/>files è³‡æ–™è¡¨]
        P15-T02[P15-T02<br/>ç‰ˆæœ¬è³‡æ–™è¡¨]
        P15-T03[P15-T03<br/>FileStore]
        P15-T04[P15-T04<br/>Storage é…ç½®]
        P15-T05[P15-T05<br/>ä¸Šå‚³å…ƒä»¶]
        
        P15-T01 --> P15-T02
        P15-T02 --> P15-T03
        P15-T03 --> P15-T05
        P15-T04 --> P15-T05
    end
    
    subgraph P2["ç¬¬äºŒéšæ®µï¼šæ—¥èªŒç³»çµ±"]
        P2-T01[P2-T01<br/>æ—¥èªŒæ¨¡å‹æ“´å±•]
        P2-T02[P2-T02<br/>å‡ºå‹¤è³‡æ–™è¡¨]
        P2-T03[P2-T03<br/>ç…§ç‰‡ä¸Šå‚³æ•´åˆ]
        P2-T04[P2-T04<br/>äººå“¡å·¥æ™‚ UI]
        
        P2-T01 --> P2-T02
        P2-T02 --> P2-T03
        P2-T03 --> P2-T04
    end
    
    subgraph P3["ç¬¬ä¸‰éšæ®µï¼šé€²åº¦è¿½è¹¤"]
        P3-T01[P3-T01<br/>é‡Œç¨‹ç¢‘è³‡æ–™è¡¨]
        P3-T02[P3-T02<br/>é€²åº¦è¨ˆç®—]
        P3-T03[P3-T03<br/>å„€è¡¨æ¿æ¡†æ¶]
        P3-T04[P3-T04<br/>åœ–è¡¨å¯¦ä½œ]
        
        P3-T01 --> P3-T02
        P3-T02 --> P3-T03
        P3-T03 --> P3-T04
    end
    
    subgraph P4["ç¬¬å››éšæ®µï¼šå“è³ªé©—æ”¶"]
        P4-T01[P4-T01<br/>æª¢é©—è³‡æ–™è¡¨]
        P4-T02[P4-T02<br/>æª¢é©—è¡¨å–®]
        P4-T03[P4-T03<br/>ç¼ºå¤±è¿½è¹¤]
        P4-T04[P4-T04<br/>ç°½æ ¸æµç¨‹]
        
        P4-T01 --> P4-T02
        P4-T02 --> P4-T03
        P4-T03 --> P4-T04
    end
    
    subgraph P5["ç¬¬äº”éšæ®µï¼šå”ä½œèˆ‡ä¸Šç·š"]
        P5-T01[P5-T01<br/>é€šçŸ¥ç³»çµ±]
        P5-T02[P5-T02<br/>Realtime]
        P5-T03[P5-T03<br/>å ±è¡¨åŒ¯å‡º]
        P5-T04[P5-T04<br/>ä¸Šç·šæº–å‚™]
        
        P5-T01 --> P5-T02
        P5-T02 --> P5-T03
        P5-T03 --> P5-T04
    end
    
    %% éšæ®µä¾è³´
    P0 --> P1
    P1 --> P15
    P15 --> P2
    P2 --> P3
    P3 --> P4
    P4 --> P5
```

---

## å…¨åŸŸå‰ç½®æ¢ä»¶

åœ¨åŸ·è¡Œä»»ä½•ä»»å‹™ä¹‹å‰ï¼Œç¢ºä¿ä»¥ä¸‹æ¢ä»¶å·²æ»¿è¶³ï¼š

### ç’°å¢ƒæº–å‚™

| æ¢ä»¶ | é©—è­‰æ–¹å¼ | ç‹€æ…‹ |
|------|---------|------|
| Node.js 20.x+ | `node -v` | âœ… |
| Yarn 4.9.x | `yarn -v` | âœ… |
| Angular CLI 20.x | `ng version` | âœ… |
| Supabase CLI | `supabase -v` | âœ… |
| æœ¬åœ° Supabase å¯¦ä¾‹ | `supabase status` | âœ… |

### ç¾æœ‰åŸºç¤è¨­æ–½ç¢ºèª

| æ¨¡çµ„ | å®Œæˆåº¦ | é©—è­‰æª”æ¡ˆ |
|------|--------|---------|
| å¸³æˆ¶é«”ç³» | 80% | `src/app/core/facades/account/` |
| è—åœ–ç³»çµ± | 70% | `src/app/features/blueprint/` |
| ä»»å‹™ç³»çµ± | 60% | `src/app/features/blueprint/ui/task/` |
| æ—¥èªŒç³»çµ± | 40% | `src/app/features/blueprint/ui/diary/` |
| å¾…è¾¦ç³»çµ± | 30% | `src/app/features/blueprint/ui/todo/` |

---

## åŸ·è¡Œè¦ç¯„

### ä»»å‹™æ ¼å¼æ¨™æº–

æ¯å€‹ä»»å‹™éµå¾ªä»¥ä¸‹çµæ§‹ï¼š

```markdown
### TASK-ID: ä»»å‹™åç¨±

| å±¬æ€§ | å€¼ |
|------|-----|
| **éšæ®µ** | Px |
| **é ä¼°å·¥æ™‚** | x å¤© |
| **å‰ç½®ä¾è³´** | TASK-ID(s) æˆ– ç„¡ |
| **è² è²¬è§’è‰²** | å‰ç«¯/å¾Œç«¯/å…¨ç«¯ |

#### æè¿°
[ä»»å‹™è©³ç´°æè¿°]

#### åŸ·è¡Œæ­¥é©Ÿ
1. æ­¥é©Ÿä¸€
2. æ­¥é©ŸäºŒ
3. ...

#### é©—æ”¶æ¨™æº–
- [ ] æ¨™æº–ä¸€
- [ ] æ¨™æº–äºŒ

#### ç”¢å‡ºç‰©
- `path/to/file1.ts`
- `path/to/file2.ts`
```

### å®Œæˆå®šç¾© (Definition of Done)

æ¯å€‹ä»»å‹™å¿…é ˆæ»¿è¶³ï¼š

1. âœ… **ç¨‹å¼ç¢¼å“è³ª**
   - ESLint é›¶éŒ¯èª¤
   - TypeScript åš´æ ¼æ¨¡å¼é€šé
   - ç¬¦åˆå°ˆæ¡ˆç·¨ç¢¼è¦ç¯„

2. âœ… **æ¸¬è©¦è¦†è“‹**
   - å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ â‰¥ 80%
   - é—œéµè·¯å¾‘ E2E æ¸¬è©¦é€šé

3. âœ… **æ–‡ä»¶å®Œæ•´**
   - JSDoc è¨»è§£å®Œæ•´
   - README æ›´æ–°ï¼ˆå¦‚é©ç”¨ï¼‰

4. âœ… **ç¨‹å¼ç¢¼å¯©æŸ¥**
   - PR å·²å»ºç«‹ä¸”å¯©æŸ¥é€šé
   - ç„¡æœªè§£æ±ºçš„å¯©æŸ¥æ„è¦‹

---

## é¢¨éšªç·©è§£ç­–ç•¥

### æŠ€è¡“é¢¨éšª

| é¢¨éšª | æ©Ÿç‡ | å½±éŸ¿ | ç·©è§£æªæ–½ |
|------|------|------|---------|
| æ‹–æ”¾è¤‡é›œåº¦ | é«˜ | ä¸­ | P1-T01 å…ˆåŸ·è¡Œ POC é©—è­‰ |
| Gantt æ•´åˆ | ä¸­ | é«˜ | è©•ä¼° ngx-gantt æˆ–ç°¡åŒ–ç‰ˆ |
| RLS æ•ˆèƒ½ | ä¸­ | é«˜ | å»ºç«‹é©ç•¶ç´¢å¼•ï¼Œç›£æ§æŸ¥è©¢ |
| æ¸¬è©¦è¦†è“‹ä¸è¶³ | é«˜ | é«˜ | æ¯éšæ®µå¼·åˆ¶ 80% è¦†è“‹ç‡ |

### æ™‚ç¨‹ç·©è¡

- æ¯éšæ®µé ç•™ **10-15%** ç·©è¡æ™‚é–“
- ç¸½æ™‚ç¨‹ 16 é€± â†’ **18-20 é€±**

---

## é€²åº¦è¿½è¹¤

### éšæ®µå®Œæˆç‹€æ…‹

| éšæ®µ | ç‹€æ…‹ | é–‹å§‹æ—¥æœŸ | å®Œæˆæ—¥æœŸ | å‚™è¨» |
|------|------|---------|---------|------|
| P0 | â³ æœªé–‹å§‹ | - | - | - |
| P1 | â³ æœªé–‹å§‹ | - | - | - |
| P1.5 | â³ æœªé–‹å§‹ | - | - | - |
| P2 | â³ æœªé–‹å§‹ | - | - | - |
| P3 | â³ æœªé–‹å§‹ | - | - | - |
| P4 | â³ æœªé–‹å§‹ | - | - | - |
| P5 | â³ æœªé–‹å§‹ | - | - | - |

### åœ–ä¾‹
- â³ æœªé–‹å§‹
- ğŸ”„ é€²è¡Œä¸­
- âœ… å·²å®Œæˆ
- âš ï¸ å»¶é²
- âŒ å·²å–æ¶ˆ

---

## è©³ç´°ä»»å‹™éˆ

å„éšæ®µè©³ç´°ä»»å‹™å®šç¾©è«‹åƒé–±ï¼š

1. [ç¬¬é›¶éšæ®µï¼šå¸³æˆ¶èˆ‡è—åœ–å¼·åŒ–](./setc/01-account-blueprint-enhancement.setc.md)
2. [ç¬¬ä¸€éšæ®µï¼šä»»å‹™ç³»çµ±ç”Ÿç”¢ç´š](./setc/02-task-system-production.setc.md)
3. [ç¬¬ 1.5 éšæ®µï¼šæª”æ¡ˆç³»çµ±](./setc/03-file-system.setc.md)
4. [ç¬¬äºŒéšæ®µï¼šæ—¥èªŒç³»çµ±](./setc/04-diary-system.setc.md)
5. [ç¬¬ä¸‰éšæ®µï¼šé€²åº¦è¿½è¹¤å„€è¡¨æ¿](./setc/05-progress-dashboard.setc.md)
6. [ç¬¬å››éšæ®µï¼šå“è³ªé©—æ”¶ç³»çµ±](./setc/06-quality-inspection.setc.md)
7. [ç¬¬äº”éšæ®µï¼šå”ä½œå ±è¡¨èˆ‡ä¸Šç·š](./setc/07-collaboration-reports-launch.setc.md)

---

## è®Šæ›´è¨˜éŒ„

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ | ä½œè€… |
|------|------|---------|------|
| 1.0 | 2025-11-26 | åˆå§‹å»ºç«‹ | GitHub Copilot |

---

## é™„éŒ„

### A. æŠ€è¡“æ£§ç‰ˆæœ¬

| æŠ€è¡“ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Angular | 20.3.x | å‰ç«¯æ¡†æ¶ |
| TypeScript | 5.9.x | ç¨‹å¼èªè¨€ |
| ng-zorro-antd | 20.3.x | UI å…ƒä»¶åº« |
| @delon/* | 20.1.x | ng-alain æ¥­å‹™å…ƒä»¶ |
| Supabase | 2.84.x | å¾Œç«¯æœå‹™ |
| RxJS | 7.8.x | éŸ¿æ‡‰å¼ç¨‹å¼è¨­è¨ˆ |

### B. ç›¸é—œæ–‡ä»¶

- [PRD æ–‡ä»¶](./prd-construction-site-management.md)
- [æ¶æ§‹æ–‡ä»¶](../architecture/)
- [API æ¨™æº–](./00-api-standards.md)
- [æ¸¬è©¦æ¨™æº–](./00-testing-standards.md)
- [å®‰å…¨æ¨™æº–](./00-security-standards.md)
