<page-header [title]="'刪除藍圖'"></page-header>

@if (loading()) {
  <nz-spin nzSimple></nz-spin>
} @else if (blueprint()) {
  <nz-card>
    <nz-alert nzType="warning" nzMessage="警告" nzDescription="此操作將永久刪除藍圖及其所有相關資料，無法復原。" nzShowIcon class="mb-lg"></nz-alert>

    <nz-descriptions nzBordered [nzColumn]="1">
      <nz-descriptions-item nzTitle="藍圖名稱">{{ blueprint()!.name }}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="描述">{{ blueprint()!.description }}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="類別">{{ blueprint()!.category }}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="可見性">{{ blueprint()!.visibility }}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="狀態">{{ blueprint()!.status }}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="使用次數">{{ blueprint()!.usageCount }}</nz-descriptions-item>
      <nz-descriptions-item nzTitle="建立時間">{{ blueprint()!.createdAt | date:'medium' }}</nz-descriptions-item>
    </nz-descriptions>

    <div class="text-center mt-lg">
      <button nz-button nzType="default" (click)="onCancel()" [disabled]="loading()">
        取消
      </button>
      <button nz-button nzType="primary" nzDanger (click)="showDeleteConfirm()" [nzLoading]="loading()" class="ml-sm">
        刪除
      </button>
    </div>
  </nz-card>
}
