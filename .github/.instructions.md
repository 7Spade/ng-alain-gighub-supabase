---
description: 'General repository instructions for ng-alain enterprise application with Supabase backend'
applyTo: '**'
---

# ng-alain Enterprise Application

This is an Angular 20 enterprise application built with the ng-alain framework and Supabase backend. It provides an out-of-box UI solution for enterprise applications using ng-zorro-antd components.

## Quick Reference

### Technology Stack

| Category | Technology | Version |
|----------|------------|---------|
| Framework | Angular | 20.3.x |
| Language | TypeScript | 5.9.x |
| UI Library | ng-zorro-antd | 20.3.x |
| Business Components | @delon/* | 20.1.x |
| Backend | Supabase | 2.84.x |
| Reactive Extensions | RxJS | 7.8.x |
| Styling | Less | - |
| Unit Testing | Karma + Jasmine | - |
| E2E Testing | Playwright | 1.57.x |
| Package Manager | Yarn | 4.9.x |

### Essential Commands

```bash
# Development
yarn start              # Start development server
yarn build              # Production build
yarn lint               # Run all linters
yarn test               # Run unit tests
yarn e2e                # Run E2E tests
yarn test-coverage      # Test with coverage report
```

### Project Structure

```
/
├── .github/              # GitHub configurations
│   ├── instructions/     # Copilot instruction files
│   ├── prompts/          # Prompt templates
│   └── workflows/        # CI/CD workflows
├── src/
│   ├── app/
│   │   ├── core/         # Core services, guards, interceptors
│   │   ├── features/     # Feature modules (vertical slices)
│   │   ├── layout/       # Layout components
│   │   ├── routes/       # Route components
│   │   └── shared/       # Shared components, pipes, directives
│   ├── assets/           # Static assets
│   ├── environments/     # Environment configs
│   └── styles/           # Global styles
├── _mock/                # Mock API data
├── e2e/                  # E2E test files
└── supabase/             # Supabase migrations and config
```

## Code Generation Guidelines

### Before Generating Code

1. **Check existing patterns** - Look at similar files in the codebase
2. **Verify version compatibility** - Don't use features beyond detected versions
3. **Follow architecture** - Respect the layered architecture
4. **Use path aliases** - Import using @core, @shared, @features

### Key Patterns

#### Dependency Injection
```typescript
// Always use inject() function (Angular 20 pattern)
private readonly service = inject(MyService);
```

#### Signals
```typescript
// Use signals for reactive state
readonly data = signal<Data[]>([]);
readonly filteredData = computed(() => this.data().filter(...));
```

#### Templates
```html
<!-- Use new control flow syntax -->
@if (condition) { <div>...</div> }
@for (item of items; track item.id) { <div>...</div> }
```

#### Supabase
```typescript
// Always use SupabaseService
const client = this.supabase.getClient();
const { data, error } = await client.from('table').select('*');
```

## Quality Standards

### Required Before Commit
- ✅ Run `yarn lint` - Fix all linting issues
- ✅ Run `yarn test` - Ensure all tests pass
- ✅ Follow naming conventions
- ✅ Add JSDoc comments for public APIs

### Code Style
- Use standalone components by default
- Use `OnPush` change detection strategy
- Follow Angular Style Guide
- Use ng-zorro-antd components for UI

### Security
- Use @delon/auth for authentication
- Use @delon/acl for authorization
- Sanitize user inputs
- Never hardcode secrets

## Additional Resources

- [Angular Documentation](https://angular.dev)
- [ng-alain Documentation](https://ng-alain.com)
- [ng-zorro-antd Documentation](https://ng.ant.design)
- [Supabase Documentation](https://supabase.com/docs)
